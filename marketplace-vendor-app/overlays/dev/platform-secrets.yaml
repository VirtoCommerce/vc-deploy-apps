apiVersion: v1
kind: ConfigMap
metadata:
  name: platform-secret-configmap
data:
    templates-custom.hcl: |
      {{ with secret "secret/notifications" }}
      export Notifications__SendGrid__ApiKey="{{ .Data.apikey }}"
      {{ end }}
      {{ with secret "secret/notifications" }}
      export Notifications__Smtp__Password="{{ .Data.password }}"
      {{ end }}
      {{ with secret "secret/mssql" }}
      export ConnectionStrings__VirtoCommerce="Server=tcp:vc-dev-dbserver.database.windows.net,1433;Database=marketplace-operator-platform_$(VC_NAMESPACE);User ID=virto@vc-dev-dbserver;Password={{ .Data.db_password }};Trusted_Connection=False;Encrypt=True;"
      {{ end }}